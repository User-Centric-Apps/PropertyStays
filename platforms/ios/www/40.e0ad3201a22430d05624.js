(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"3F3D":function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=t("ZZ/e"),o=t("lGQG"),i=t("XjJT"),r=t("Witw"),c=function(n,l,t,u){return new(t||(t=Promise))(function(e,o){function i(n){try{c(u.next(n))}catch(l){o(l)}}function r(n){try{c(u.throw(n))}catch(l){o(l)}}function c(n){n.done?e(n.value):new t(function(l){l(n.value)}).then(i,r)}c((u=u.apply(n,l||[])).next())})},a=function(n,l){var t,u,e,o,i={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,u&&(e=2&o[0]?u.return:o[0]?u.throw||((e=u.return)&&e.call(u),0):u.next)&&!(e=e.call(u,o[1])).done)return e;switch(u=0,e&&(o=[2&o[0],e.value]),o[0]){case 0:case 1:e=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,u=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(e=(e=i.trys).length>0&&e[e.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!e||o[1]>e[0]&&o[1]<e[3])){i.label=o[1];break}if(6===o[0]&&i.label<e[1]){i.label=e[1],e=o;break}if(e&&i.label<e[2]){i.label=e[2],i.ops.push(o);break}e[2]&&i.ops.pop(),i.trys.pop();continue}o=l.call(n,i)}catch(r){o=[6,r],u=0}finally{t=e=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}},s=function(){function n(n,l,t,u,e){this.authService=n,this.wpApiService=l,this.router=t,this.navCtrl=u,this.ui=e,this.currencies=[],this.notifyStatus=!0,this.uNotifyStatus=!0,this.currencyLoaded=!1,this.notifyLoaded=!1}return n.prototype.goBack=function(){this.navCtrl.back()},n.prototype.goPrivacy=function(){this.navCtrl.navigateForward("/privacy")},n.prototype.ngOnInit=function(){var n=this;this.authService.authenticationState.subscribe(function(l){return c(n,void 0,void 0,function(){var n=this;return a(this,function(t){switch(t.label){case 0:return console.log(l),l?(this.ui.showPageLoading(),[4,this.wpApiService.notificationStatus(this.authService.userToken).subscribe(function(l){console.log("User Notify: ",l.data),n.notifyStatus=l.data.status,n.notifyLoaded=!0,n.uNotifyStatus=l.data.status},function(n){console.log(n)})]):[3,3];case 1:return t.sent(),[4,this.wpApiService.getCurrencies(this.authService.userToken).subscribe(function(l){return c(n,void 0,void 0,function(){var n=this;return a(this,function(t){switch(t.label){case 0:return console.log(l),this.currencies=l.data,[4,this.wpApiService.getUserCurrency(this.authService.userToken).subscribe(function(l){console.log("User Currency: ",l.data),n.selectedCurrency=l.data.name,n.userCurrency=l.data.name,n.currencyLoaded=!0,n.ui.hidePageLoading()},function(n){console.log(n)})];case 1:return t.sent(),[2]}})})},function(n){console.log(n)})];case 2:t.sent(),t.label=3;case 3:return[2]}})})})},n.prototype.logOut=function(){var n=this;this.authService.logOut().then(function(){n.navCtrl.navigateRoot("/tips")})},n.prototype.changeCurrency=function(n,l){var t=this;console.log(n),console.log(l),this.userCurrency&&n.detail.value!==this.userCurrency&&(console.log("Currency Changed By User"),this.wpApiService.setCurrency(this.authService.userToken,l).subscribe(function(n){console.log(n),t.selectedCurrency=l,t.userCurrency=l}))},n.prototype.changeNotify=function(n){var l=this;console.log("this.notify:",this.notifyStatus),console.log("this.uNotify:",this.uNotifyStatus),this.notifyStatus!==this.uNotifyStatus&&(console.log(n.detail.checked),console.log("Notify Changed by"),console.log("this.notify after:",this.notifyStatus),console.log("this.uNotify after:",this.uNotifyStatus),this.wpApiService.changeNotification(this.authService.userToken,n.detail.checked?1:0).subscribe(function(t){console.log(t.data),l.uNotifyStatus=n.detail.checked,console.log("this.notify after api:",l.notifyStatus),console.log("this.uNotify after api:",l.uNotifyStatus)},function(n){console.log(n)}))},n}(),b=function(){return function(){}}(),g=t("pMnS"),h=t("oBZk"),f=t("gIcY"),d=t("Ip0R"),p=t("ZYCi"),y=u.nb({encapsulation:0,styles:[["ion-select[_ngcontent-%COMP%]   .select-text[_ngcontent-%COMP%]{font-size:16px;--color:var(--ion-text-color2);font-weight:300}ion-select[_ngcontent-%COMP%]   .select-icon[_ngcontent-%COMP%]{--color:#00BDBB}ion-footer[_ngcontent-%COMP%]{padding-bottom:0;background:#fff;text-align:center;align-items:center}ion-footer[_ngcontent-%COMP%]:before{display:none}ion-footer[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:190px;align-self:center;display:block;margin:0 auto}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:10px 0 0;color:var(--ion-color-primary);--ion-color-contrast:var(--ion-color-primary)!important;text-transform:inherit}ion-item.has-detail[_ngcontent-%COMP%]{--detail-icon-color:var(--ion-color-primary);--detail-icon-opacity:1}"]],data:{}});function v(n){return u.Hb(0,[(n()(),u.pb(0,0,null,null,11,"ion-item",[],null,null,null,h.Fb,h.w)),u.ob(1,49152,null,0,e.J,[u.h,u.k,u.z],null,null),(n()(),u.pb(2,0,null,0,2,"ion-label",[],null,null,null,h.Gb,h.C)),u.ob(3,49152,null,0,e.P,[u.h,u.k,u.z],null,null),(n()(),u.Fb(-1,0,["Notifications"])),(n()(),u.pb(5,0,null,0,6,"ion-toggle",[["slot","end"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ngModelChange"],[null,"ionBlur"]],function(n,l,t){var e=!0,o=n.component;return"ionBlur"===l&&(e=!1!==u.zb(n,6)._handleBlurEvent(t.target)&&e),"ionChange"===l&&(e=!1!==u.zb(n,6)._handleIonChange(t.target)&&e),"ionChange"===l&&(e=!1!==o.changeNotify(t)&&e),"ngModelChange"===l&&(e=!1!==(o.notifyStatus=t)&&e),e},h.fc,h.bb)),u.ob(6,16384,null,0,e.d,[u.k],null,null),u.Cb(1024,null,f.j,function(n){return[n]},[e.d]),u.ob(8,671744,null,0,f.o,[[8,null],[8,null],[8,null],[6,f.j]],{model:[0,"model"]},{update:"ngModelChange"}),u.Cb(2048,null,f.k,null,[f.o]),u.ob(10,16384,null,0,f.l,[[4,f.k]],null,null),u.ob(11,49152,null,0,e.Db,[u.h,u.k,u.z],null,null)],function(n,l){n(l,8,0,l.component.notifyStatus)},function(n,l){n(l,5,0,u.zb(l,10).ngClassUntouched,u.zb(l,10).ngClassTouched,u.zb(l,10).ngClassPristine,u.zb(l,10).ngClassDirty,u.zb(l,10).ngClassValid,u.zb(l,10).ngClassInvalid,u.zb(l,10).ngClassPending)})}function C(n){return u.Hb(0,[(n()(),u.pb(0,0,null,null,7,"ion-item",[["class","has-detail"],["detail",""]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.ui.loginAlert()&&u),u},h.Fb,h.w)),u.ob(1,49152,null,0,e.J,[u.h,u.k,u.z],{detail:[0,"detail"]},null),(n()(),u.pb(2,0,null,0,2,"ion-label",[],null,null,null,h.Gb,h.C)),u.ob(3,49152,null,0,e.P,[u.h,u.k,u.z],null,null),(n()(),u.Fb(-1,0,["Currency"])),(n()(),u.pb(5,0,null,0,2,"ion-note",[["color","medium"],["slot","end"]],null,null,null,h.Mb,h.I)),u.ob(6,49152,null,0,e.ab,[u.h,u.k,u.z],{color:[0,"color"]},null),(n()(),u.Fb(-1,0,[" GPB "]))],function(n,l){n(l,1,0,""),n(l,6,0,"medium")},null)}function k(n){return u.Hb(0,[(n()(),u.pb(0,0,null,null,12,"ion-header",[],null,null,null,h.ub,h.q)),u.ob(1,49152,null,0,e.D,[u.h,u.k,u.z],null,null),(n()(),u.pb(2,0,null,0,10,"ion-toolbar",[],null,null,null,h.gc,h.cb)),u.ob(3,49152,null,0,e.Eb,[u.h,u.k,u.z],null,null),(n()(),u.pb(4,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,h.jb,h.f)),u.ob(5,49152,null,0,e.n,[u.h,u.k,u.z],null,null),(n()(),u.pb(6,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.goBack()&&u),u},h.ib,h.e)),u.ob(7,49152,null,0,e.m,[u.h,u.k,u.z],null,null),(n()(),u.pb(8,0,null,0,1,"ion-icon",[["src","/assets/icons/close.svg"]],null,null,null,h.vb,h.r)),u.ob(9,49152,null,0,e.E,[u.h,u.k,u.z],{src:[0,"src"]},null),(n()(),u.pb(10,0,null,0,2,"ion-title",[],null,null,null,h.ec,h.ab)),u.ob(11,49152,null,0,e.Cb,[u.h,u.k,u.z],null,null),(n()(),u.Fb(-1,0,[" Settings "])),(n()(),u.pb(13,0,null,null,26,"ion-content",[["padding",""]],null,null,null,h.qb,h.m)),u.ob(14,49152,null,0,e.w,[u.h,u.k,u.z],null,null),u.ob(15,16384,null,0,e.f,[u.k],null,null),(n()(),u.pb(16,0,null,0,23,"ion-list",[["lines","full"]],null,null,null,h.Ib,h.D)),u.ob(17,49152,null,0,e.Q,[u.h,u.k,u.z],{lines:[0,"lines"]},null),(n()(),u.gb(16777216,null,0,1,null,v)),u.ob(19,16384,null,0,d.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.gb(16777216,null,0,1,null,C)),u.ob(21,16384,null,0,d.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.pb(22,0,null,0,17,"ion-item",[["class","has-detail"],["detail",""]],null,null,null,h.Fb,h.w)),u.ob(23,49152,null,0,e.J,[u.h,u.k,u.z],{detail:[0,"detail"]},null),(n()(),u.pb(24,0,null,0,2,"ion-label",[],null,null,null,h.Gb,h.C)),u.ob(25,49152,null,0,e.P,[u.h,u.k,u.z],null,null),(n()(),u.Fb(-1,0,["Currency"])),(n()(),u.pb(27,0,null,0,12,"ion-select",[["interface","action-sheet"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,l,t){var e=!0,o=n.component;return"ionBlur"===l&&(e=!1!==u.zb(n,28)._handleBlurEvent(t.target)&&e),"ionChange"===l&&(e=!1!==u.zb(n,28)._handleChangeEvent(t.target)&&e),"ngModelChange"===l&&(e=!1!==(o.selectedCurrency=t)&&e),"ionChange"===l&&(e=!1!==o.changeCurrency(t,o.selectedCurrency)&&e),e},h.Tb,h.O)),u.ob(28,16384,null,0,e.Qb,[u.k],null,null),u.Cb(1024,null,f.j,function(n){return[n]},[e.Qb]),u.ob(30,671744,null,0,f.o,[[8,null],[8,null],[8,null],[6,f.j]],{model:[0,"model"]},{update:"ngModelChange"}),u.Cb(2048,null,f.k,null,[f.o]),u.ob(32,16384,null,0,f.l,[[4,f.k]],null,null),u.ob(33,49152,null,0,e.pb,[u.h,u.k,u.z],{interface:[0,"interface"]},null),(n()(),u.pb(34,0,null,0,2,"ion-select-option",[["selected",""],["value","gbp"]],null,null,null,h.Sb,h.P)),u.ob(35,49152,null,0,e.qb,[u.h,u.k,u.z],{selected:[0,"selected"],value:[1,"value"]},null),(n()(),u.Fb(-1,0,["GPB"])),(n()(),u.pb(37,0,null,0,2,"ion-select-option",[["value","eur"]],null,null,null,h.Sb,h.P)),u.ob(38,49152,null,0,e.qb,[u.h,u.k,u.z],{value:[0,"value"]},null),(n()(),u.Fb(-1,0,["EGP"])),(n()(),u.pb(40,0,null,null,10,"ion-footer",[],null,null,null,h.sb,h.o)),u.ob(41,49152,null,0,e.B,[u.h,u.k,u.z],null,null),(n()(),u.pb(42,0,null,0,1,"ion-img",[["src","/assets/logo.svg"]],null,null,null,h.wb,h.s)),u.ob(43,49152,null,0,e.F,[u.h,u.k,u.z],{src:[0,"src"]},null),(n()(),u.pb(44,0,null,0,6,"ion-button",[["color","light"],["expand","full"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.logOut()&&u),u},h.ib,h.e)),u.ob(45,49152,null,0,e.m,[u.h,u.k,u.z],{color:[0,"color"],expand:[1,"expand"]},null),(n()(),u.pb(46,0,null,0,1,"ion-icon",[["name","log-out"],["slot","start"]],null,null,null,h.vb,h.r)),u.ob(47,49152,null,0,e.E,[u.h,u.k,u.z],{name:[0,"name"]},null),(n()(),u.pb(48,0,null,0,2,"ion-label",[],null,null,null,h.Gb,h.C)),u.ob(49,49152,null,0,e.P,[u.h,u.k,u.z],null,null),(n()(),u.Fb(-1,0,[" Log Out "]))],function(n,l){var t=l.component;n(l,9,0,"/assets/icons/close.svg"),n(l,17,0,"full"),n(l,19,0,t.authService.authenticationState.value),n(l,21,0,!t.authService.authenticationState.value),n(l,23,0,""),n(l,30,0,t.selectedCurrency),n(l,33,0,"action-sheet"),n(l,35,0,"","gbp"),n(l,38,0,"eur"),n(l,43,0,"/assets/logo.svg"),n(l,45,0,"light","full"),n(l,47,0,"log-out")},function(n,l){n(l,27,0,u.zb(l,32).ngClassUntouched,u.zb(l,32).ngClassTouched,u.zb(l,32).ngClassPristine,u.zb(l,32).ngClassDirty,u.zb(l,32).ngClassValid,u.zb(l,32).ngClassInvalid,u.zb(l,32).ngClassPending)})}function m(n){return u.Hb(0,[(n()(),u.pb(0,0,null,null,1,"app-settings",[],null,null,null,k,y)),u.ob(1,114688,null,0,s,[o.a,i.a,p.m,e.Kb,r.a],null,null)],function(n,l){n(l,1,0)},null)}var z=u.lb("app-settings",s,m,{},{},[]);t.d(l,"SettingsPageModuleNgFactory",function(){return S});var S=u.mb(b,[],function(n){return u.wb([u.xb(512,u.j,u.bb,[[8,[g.a,z]],[3,u.j],u.x]),u.xb(4608,d.l,d.k,[u.u,[2,d.u]]),u.xb(4608,f.u,f.u,[]),u.xb(4608,e.c,e.c,[u.z,u.g]),u.xb(4608,e.Jb,e.Jb,[e.c,u.j,u.q]),u.xb(4608,e.Ob,e.Ob,[e.c,u.j,u.q]),u.xb(1073742336,d.b,d.b,[]),u.xb(1073742336,f.s,f.s,[]),u.xb(1073742336,f.f,f.f,[]),u.xb(1073742336,e.Gb,e.Gb,[]),u.xb(1073742336,p.o,p.o,[[2,p.u],[2,p.m]]),u.xb(1073742336,b,b,[]),u.xb(1024,p.k,function(){return[[{path:"",component:s}]]},[])])})}}]);