{"version":3,"sources":["webpack:///./src/app/signup/signup.module.ts","webpack:///./src/app/signup/signup.page.html","webpack:///./src/app/signup/signup.page.scss","webpack:///./src/app/signup/signup.page.ts"],"names":[],"mappings":"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","file":"signup-signup-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignupPage } from './signup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignupPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SignupPage]\n})\nexport class SignupPageModule {}\n","module.exports = \"<ion-header>\\n    <ion-toolbar>\\n        <ion-title>Register</ion-title>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button color=\\\"primary\\\" text=\\\"\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-back-button text=\\\"\\\" icon=\\\"/assets/icons/close.svg\\\" color=\\\"dark\\\" class=\\\"close-icon\\\">\\n            </ion-back-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n    <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"register(form)\\\">\\n        <ion-item class=\\\"item-input\\\">\\n            <ion-label position=\\\"floating\\\">Full Name</ion-label>\\n            <ion-input clearInput type=\\\"text\\\" name=\\\"name\\\" ngModel required></ion-input>\\n        </ion-item>\\n        <ion-item class=\\\"item-input\\\">\\n            <ion-label position=\\\"floating\\\">Email Address</ion-label>\\n            <ion-input clearInput type=\\\"email\\\" name=\\\"email\\\" ngModel required></ion-input>\\n        </ion-item>\\n        <ion-item class=\\\"item-input\\\">\\n            <ion-label position=\\\"floating\\\">Password</ion-label>\\n            <ion-input viewInput [type]=\\\"showPass ? 'text' : 'password'\\\" name=\\\"password\\\" ngModel required minlength=\\\"4\\\">\\n            </ion-input>\\n            <ion-icon [name]=\\\"showPass ? 'eye' : 'eye-off'\\\" slot=\\\"end\\\" class=\\\"show-pass\\\" [ngClass]=\\\"showPass ? 'active' : ''\\\" (click)=\\\"togglePass()\\\"></ion-icon>\\n        </ion-item>\\n        <ion-grid class=\\\"ion-no-padding terms-grid mr-top\\\">\\n            <ion-row class=\\\"input-row\\\">\\n                <ion-col size=\\\"1\\\" class=\\\"ion-no-padding\\\">\\n                    <ion-item class=\\\"item-input has-check\\\">\\n                        <ion-checkbox slot=\\\"start\\\" name=\\\"acceptTerms\\\" [(ngModel)]=\\\"acceptTerms\\\" required></ion-checkbox>\\n                    </ion-item>\\n                </ion-col>\\n                <ion-col size=\\\"11\\\" class=\\\"ion-no-padding\\\">\\n                    <p class=\\\"label\\\">\\n                        I accept Property Stays's\\n                        <ion-text color=\\\"primary\\\" routerLink=\\\"/terms\\\" routerDirection=\\\"forward\\\">\\n                            Terms & Conditions\\n                        </ion-text>\\n                    </p>\\n                </ion-col>\\n            </ion-row>\\n            <ion-row class=\\\"input-row\\\">\\n                <ion-col size=\\\"1\\\" class=\\\"ion-no-padding\\\">\\n                    <ion-item class=\\\"item-input has-check\\\">\\n                        <ion-checkbox slot=\\\"start\\\" name=\\\"acceptPrivacy\\\" [(ngModel)]=\\\"acceptPrivacy\\\" required></ion-checkbox>\\n                    </ion-item>\\n                </ion-col>\\n                <ion-col size=\\\"11\\\" class=\\\"ion-no-padding\\\">\\n                    <p class=\\\"label\\\">\\n                        I accept Property Stays's\\n                        <ion-text color=\\\"primary\\\" routerLink=\\\"/privacy\\\" routerDirection=\\\"forward\\\">\\n                            Privacy Policy\\n                        </ion-text>\\n                    </p>\\n                </ion-col>\\n            </ion-row>\\n        </ion-grid>\\n        <!-- <ion-item class=\\\"item-input has-check\\\">\\n            <ion-label class=\\\"ion-text-wrap fill-width\\\">\\n                Accept\\n                <ion-text color=\\\"primary\\\" routerLink=\\\"/terms\\\" routerDirection=\\\"forward\\\">\\n                    Terms & Conditions\\n                </ion-text>\\n                &\\n                <ion-text color=\\\"primary\\\"> Privacy Policy </ion-text>\\n            </ion-label>\\n            <ion-checkbox slot=\\\"start\\\" name=\\\"acceptTerms\\\" [(ngModel)]=\\\"acceptTerms\\\" required></ion-checkbox>\\n        </ion-item> -->\\n\\n        <ion-button expand=\\\"block\\\" size=\\\"large\\\" class=\\\"big-btn\\\" [disabled]=\\\"form.invalid || !acceptTerms || !acceptPrivacy\\\" type=\\\"submit\\\">\\n            <ion-icon src=\\\"/assets/icons/checkmark.svg\\\" slot=\\\"start\\\"></ion-icon>\\n            Register\\n        </ion-button>\\n    </form>\\n    <div class=\\\"divider\\\">\\n        <span>OR</span>\\n    </div>\\n    <p text-center>Link your account</p>\\n    <ion-button expand=\\\"block\\\" size=\\\"large\\\" class=\\\"big-btn facebook\\\" (click)=\\\"facebookLogin()\\\">\\n        <ion-icon name=\\\"logo-facebook\\\"></ion-icon>\\n        Facebook\\n    </ion-button>\\n    <!-- <ion-button expand=\\\"block\\\" size=\\\"large\\\" class=\\\"big-btn google\\\" routerDirection=\\\"forward\\\">\\n        <ion-icon name=\\\"logo-google\\\"></ion-icon>\\n        Google\\n    </ion-button> -->\\n</ion-content>\"","module.exports = \".big-btn {\\n  margin: 25px 0px; }\\n  .big-btn.facebook {\\n    --background: #3a559f;\\n    --background-activated: #2c4484; }\\n  .big-btn.google {\\n    --background: #a1bccf;\\n    --background-activated: #7f9eb3; }\\n  .big-btn ion-icon {\\n    margin-right: 20px; }\\n  ion-item ion-icon.show-pass {\\n  position: absolute;\\n  z-index: 99;\\n  right: 10px;\\n  margin-top: 10px;\\n  opacity: 0;\\n  display: none;\\n  top: 50%;\\n  transform: translateY(-50%); }\\n  ion-item.item-has-value ion-icon.show-pass {\\n  opacity: 0.5;\\n  display: block; }\\n  ion-item.item-has-value ion-icon.show-pass.active {\\n    opacity: 0.9; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2lnbnVwL0Q6XFxtb2JpbGVcXGNlbnRyaWNGaW5hbC9zcmNcXGFwcFxcc2lnbnVwXFxzaWdudXAucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQWdCLEVBQUE7RUFEcEI7SUFHUSxxQkFBYTtJQUNiLCtCQUF1QixFQUFBO0VBSi9CO0lBT1EscUJBQWE7SUFDYiwrQkFBdUIsRUFBQTtFQVIvQjtJQVdRLGtCQUFrQixFQUFBO0VBSTFCO0VBRVEsa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxXQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLFVBQVU7RUFDVixhQUFhO0VBQ2IsUUFBUTtFQUNSLDJCQUEyQixFQUFBO0VBVG5DO0VBYVksWUFBWTtFQUNaLGNBQWMsRUFBQTtFQWQxQjtJQWdCZ0IsWUFBWSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvc2lnbnVwL3NpZ251cC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYmlnLWJ0biB7XG4gICAgbWFyZ2luOiAyNXB4IDBweDtcbiAgICAmLmZhY2Vib29rIHtcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiAjM2E1NTlmO1xuICAgICAgICAtLWJhY2tncm91bmQtYWN0aXZhdGVkOiAjMmM0NDg0O1xuICAgIH1cbiAgICAmLmdvb2dsZSB7XG4gICAgICAgIC0tYmFja2dyb3VuZDogI2ExYmNjZjtcbiAgICAgICAgLS1iYWNrZ3JvdW5kLWFjdGl2YXRlZDogIzdmOWViMztcbiAgICB9XG4gICAgaW9uLWljb24ge1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XG4gICAgfVxufVxuXG5pb24taXRlbSB7XG4gICAgaW9uLWljb24uc2hvdy1wYXNzIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB6LWluZGV4OiA5OTtcbiAgICAgICAgcmlnaHQ6IDEwcHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgIHRvcDogNTAlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gICAgfVxuICAgICYuaXRlbS1oYXMtdmFsdWUge1xuICAgICAgICBpb24taWNvbi5zaG93LXBhc3Mge1xuICAgICAgICAgICAgb3BhY2l0eTogMC41O1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAmLmFjdGl2ZSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMC45O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { WpapiService } from 'src/app/services/wpapi.service';\nimport { AuthService } from '../services/auth.service';\nimport { ToastController } from '@ionic/angular';\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook/ngx';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.page.html',\n  styleUrls: ['./signup.page.scss']\n})\nexport class SignupPage implements OnInit {\n  name;\n  email;\n  password;\n\n  acceptTerms = false;\n  acceptPrivacy = false;\n\n  showPass = false;\n\n  constructor(\n    private router: Router,\n    private wpApiService: WpapiService,\n    private authService: AuthService,\n    public toastController: ToastController,\n    private fb: Facebook\n  ) {}\n\n  goTo(page) {\n    this.router.navigateByUrl(page);\n  }\n\n  async togglePass() {\n    if (this.showPass) {\n      this.showPass = false;\n    } else {\n      this.showPass = true;\n    }\n  }\n\n  async presentToast(message, color, position, duration) {\n    const toast = await this.toastController.create({\n      message: message,\n      color: color,\n      position: position,\n      duration: duration\n    });\n    toast.present();\n  }\n\n  async ngOnInit() {\n    // await this.facebookLogin();\n  }\n\n  async facebookLogin() {\n    await this.fb\n      .login(['public_profile', 'email'])\n      .then((res: FacebookLoginResponse) => {\n        const userID = res.authResponse.userID;\n        this.fb\n          .api(userID + '?fields=id,email,first_name,last_name,address,name', [\n            'email'\n          ])\n          .then(fbUser => {\n            console.log(fbUser);\n            const formData = {\n              name: fbUser.name,\n              email: fbUser.email,\n              password: 'FBuserPS_' + fbUser.id\n            };\n            console.log(formData);\n            this.wpApiService.register(formData).subscribe(data => {\n              console.log(data);\n              if (data['status'] === 0) {\n                this.presentToast(\n                  data['msg'] + ', Please try again',\n                  'danger',\n                  'top',\n                  3000\n                );\n              } else {\n                this.wpApiService\n                  .postAuth(formData.email, formData.password)\n                  .subscribe(\n                    udata => {\n                      this.authService.logIn(udata);\n                      this.presentToast(\n                        'Welcome, ' + udata.user_display_name,\n                        'success',\n                        'bottom',\n                        2000\n                      );\n                      setTimeout(() => {\n                        this.router.navigateByUrl('/');\n                      }, 2000);\n                    },\n                    error => {\n                      console.log(\n                        'Username Or Password is not correct, Please Try Again'\n                      );\n                      this.presentToast(\n                        'Failed to login, Please try again.',\n                        'danger',\n                        'bottom',\n                        3000\n                      );\n                    }\n                  );\n              }\n            });\n          })\n          .catch(error => {\n            console.log(error);\n            this.presentToast(\n              'Error logging into Facebook' + error,\n              'danger',\n              'bottom',\n              3000\n            );\n          });\n      })\n      .catch(e => {\n        console.log('Error logging into Facebook', e);\n        this.presentToast(\n          'Error logging into Facebook' + e,\n          'danger',\n          'bottom',\n          3000\n        );\n      });\n  }\n\n  register(form) {\n    this.wpApiService.register(form.value).subscribe(data => {\n      console.log(data);\n      if (data['status'] === 0) {\n        this.presentToast(\n          data['msg'] + ', Please try again',\n          'danger',\n          'top',\n          3000\n        );\n      } else {\n        this.presentToast(\n          'Your Account have been created successfully, we will take you to login.',\n          'success',\n          'top',\n          3000\n        );\n        setTimeout(() => {\n          this.router.navigateByUrl('/login');\n        }, 3200);\n      }\n    });\n  }\n\n  // loginFacebook() {\n  //   // this.fb.getLoginStatus().then(data => {\n  //   //   console.log(data);\n  //   // });\n  //   this.fb.login(['public_profile', 'user_friends', 'email'])\n  // .then((res: FacebookLoginResponse) => console.log('Logged into Facebook!', res))\n  // .catch(e => console.log('Error logging into Facebook', e));\n\n  // // this.fb.logEvent(this.fb.EVENTS.EVENT_NAME_ADDED_TO_CART);\n  // }\n}\n"],"sourceRoot":""}