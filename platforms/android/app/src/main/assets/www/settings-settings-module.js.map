{"version":3,"sources":["webpack:///./src/app/settings/settings.module.ts","webpack:///./src/app/settings/settings.page.html","webpack:///./src/app/settings/settings.page.scss","webpack:///./src/app/settings/settings.page.ts"],"names":[],"mappings":"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","file":"settings-settings-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n","module.exports = \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-button (click)=\\\"goBack()\\\">\\n                <ion-icon src=\\\"/assets/icons/close.svg\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n        <ion-title>\\n            Settings\\n        </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n    <ion-list lines=\\\"full\\\">\\n        <ion-item *ngIf=\\\"authService.authenticationState.value\\\">\\n            <ion-label>Notifications</ion-label>\\n            <ion-toggle slot=\\\"end\\\" (ionChange)=\\\"changeNotify($event)\\\" [(ngModel)]=\\\"notifyStatus\\\"></ion-toggle>\\n        </ion-item>\\n        <ion-item detail class=\\\"has-detail\\\" *ngIf=\\\"!authService.authenticationState.value\\\" (click)=\\\"ui.loginAlert()\\\">\\n            <ion-label>Currency</ion-label>\\n            <ion-note color=\\\"medium\\\" slot=\\\"end\\\"> GPB </ion-note>\\n            <!-- <ion-select interface=\\\"action-sheet\\\">\\n                <ion-select-option value=\\\"GPB\\\" selected>GPB</ion-select-option>\\n                <ion-select-option value=\\\"EGP\\\">EGP</ion-select-option>\\n            </!-->\\n        </ion-item>\\n        <!--<ion-item *ngIf=\\\"authService.authenticationState.value\\\">\\n            <ion-label>Currency</ion-label>\\n            <ion-select interface=\\\"action-sheet\\\" [(ngModel)]=\\\"selectedCurrency\\\" (ionChange)=\\\"changeCurrency($event, selectedCurrency)\\\">\\n                <ion-select-option *ngFor=\\\"let currency of currencies\\\" [value]=\\\"currency.name\\\">{{currency.title}} ({{currency.symbol}})</ion-select-option>\\n            </ion-select>\\n        </ion-item>-->\\n        <ion-item detail class=\\\"has-detail\\\">\\n            <ion-label>Currency</ion-label>\\n            <ion-select interface=\\\"action-sheet\\\" [(ngModel)]=\\\"selectedCurrency\\\" (ionChange)=\\\"changeCurrency($event, selectedCurrency)\\\">\\n                <ion-select-option value=\\\"gbp\\\" selected>GPB</ion-select-option>\\n                <ion-select-option value=\\\"eur\\\">EGP</ion-select-option>\\n            </ion-select>\\n        </ion-item>\\n    </ion-list>\\n</ion-content>\\n<ion-footer>\\n    <ion-img src=\\\"/assets/logo.svg\\\"></ion-img>\\n    <ion-button expand=\\\"full\\\" color=\\\"light\\\" (click)=\\\"logOut()\\\">\\n        <ion-icon name=\\\"log-out\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label>\\n            Log Out\\n        </ion-label>\\n    </ion-button>\\n</ion-footer>\"","module.exports = \"ion-select .select-text {\\n  font-size: 16px;\\n  --color: var(--ion-text-color2);\\n  font-weight: 300; }\\n\\nion-select .select-icon {\\n  --color: #00BDBB; }\\n\\nion-footer {\\n  padding-bottom: 0;\\n  background: #fff;\\n  text-align: center;\\n  align-items: center; }\\n\\nion-footer:before {\\n    display: none; }\\n\\nion-footer ion-img {\\n    width: 190px;\\n    align-self: center;\\n    display: block;\\n    margin: 0 auto; }\\n\\nion-footer ion-button {\\n    margin: 10px 0 0;\\n    color: var(--ion-color-primary);\\n    --ion-color-contrast: var(--ion-color-primary) !important;\\n    text-transform: inherit; }\\n\\nion-item.has-detail {\\n  --detail-icon-color: var(--ion-color-primary);\\n  --detail-icon-opacity: 1; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2V0dGluZ3MvRDpcXG1vYmlsZVxcY2VudHJpY0ZpbmFsL3NyY1xcYXBwXFxzZXR0aW5nc1xcc2V0dGluZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRVEsZUFBZTtFQUNmLCtCQUFRO0VBQ1IsZ0JBQWdCLEVBQUE7O0FBSnhCO0VBT1EsZ0JBQVEsRUFBQTs7QUFJaEI7RUFDSSxpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixtQkFBbUIsRUFBQTs7QUFKdkI7SUFNUSxhQUFhLEVBQUE7O0FBTnJCO0lBU1EsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2QsY0FBYyxFQUFBOztBQVp0QjtJQWVRLGdCQUFnQjtJQUNoQiwrQkFBK0I7SUFDL0IseURBQXFCO0lBQ3JCLHVCQUF1QixFQUFBOztBQUkvQjtFQUNJLDZDQUFvQjtFQUNwQix3QkFBc0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3NldHRpbmdzL3NldHRpbmdzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1zZWxlY3Qge1xuICAgIC5zZWxlY3QtdGV4dCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgLS1jb2xvcjogdmFyKC0taW9uLXRleHQtY29sb3IyKTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDtcbiAgICB9XG4gICAgLnNlbGVjdC1pY29uIHtcbiAgICAgICAgLS1jb2xvcjogIzAwQkRCQjtcbiAgICB9XG59XG5cbmlvbi1mb290ZXIge1xuICAgIHBhZGRpbmctYm90dG9tOiAwO1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgJjpiZWZvcmUge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICBpb24taW1nIHtcbiAgICAgICAgd2lkdGg6IDE5MHB4O1xuICAgICAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICB9XG4gICAgaW9uLWJ1dHRvbiB7XG4gICAgICAgIG1hcmdpbjogMTBweCAwIDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgIC0taW9uLWNvbG9yLWNvbnRyYXN0OiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSkgIWltcG9ydGFudDtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IGluaGVyaXQ7XG4gICAgfVxufVxuXG5pb24taXRlbS5oYXMtZGV0YWlsIHtcbiAgICAtLWRldGFpbC1pY29uLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgLS1kZXRhaWwtaWNvbi1vcGFjaXR5OiAxO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../services/auth.service';\nimport { WpapiService } from '../services/wpapi.service';\nimport { UiService } from '../services/ui.service';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss']\n})\nexport class SettingsPage implements OnInit {\n  currencies = [];\n\n  selectedCurrency;\n\n  userCurrency;\n\n  notifyStatus = true;\n\n  uNotifyStatus = true;\n\n  currencyLoaded = false;\n  notifyLoaded = false;\n  constructor(\n    public authService: AuthService,\n    public wpApiService: WpapiService,\n    private router: Router,\n    private navCtrl: NavController,\n\n    public ui: UiService\n  ) {}\n\n  goBack() {\n    this.navCtrl.back();\n  }\n\n  goPrivacy() {\n    this.navCtrl.navigateForward('/privacy');\n  }\n\n  ngOnInit() {\n    this.authService.authenticationState.subscribe(async state => {\n      console.log(state);\n      if (state) {\n        this.ui.showPageLoading();\n        await this.wpApiService\n          .notificationStatus(this.authService.userToken)\n          .subscribe(\n            (response: any) => {\n              console.log('User Notify: ', response.data);\n              this.notifyStatus = response.data.status;\n\n              this.notifyLoaded = true;\n              this.uNotifyStatus = response.data.status;\n            },\n            error => {\n              console.log(error);\n            }\n          );\n        await this.wpApiService\n          .getCurrencies(this.authService.userToken)\n          .subscribe(\n            async (currencies: any) => {\n              console.log(currencies);\n              this.currencies = currencies.data;\n              await this.wpApiService\n                .getUserCurrency(this.authService.userToken)\n                .subscribe(\n                  (selected: any) => {\n                    console.log('User Currency: ', selected.data);\n                    this.selectedCurrency = selected.data.name;\n                    this.userCurrency = selected.data.name;\n                    this.currencyLoaded = true;\n                    this.ui.hidePageLoading();\n                  },\n                  error => {\n                    console.log(error);\n                  }\n                );\n            },\n            error => {\n              console.log(error);\n            }\n          );\n      }\n    });\n  }\n\n  logOut() {\n    this.authService.logOut().then(() => {\n      this.navCtrl.navigateRoot('/tips');\n    });\n  }\n\n  changeCurrency(event, currencyName) {\n    console.log(event);\n    console.log(currencyName);\n\n    if (this.userCurrency && event.detail.value !== this.userCurrency) {\n      console.log('Currency Changed By User');\n      this.wpApiService\n        .setCurrency(this.authService.userToken, currencyName)\n        .subscribe((response: any) => {\n          console.log(response);\n          this.selectedCurrency = currencyName;\n          this.userCurrency = currencyName;\n        });\n    }\n    // if (this.currencyLoaded) {\n    //   this.wpApiService\n    //     .setCurrency(this.authService.userToken, currencyName)\n    //     .subscribe((response: any) => {\n    //       console.log(response);\n    //     });\n    // }\n  }\n\n  changeNotify(event) {\n    // this.sNotifyStatus = !this.sNotifyStatus;\n    // this.notifyStatus = this.sNotifyStatus;\n    console.log('this.notify:', this.notifyStatus);\n    console.log('this.uNotify:', this.uNotifyStatus);\n\n    if (this.notifyStatus !== this.uNotifyStatus) {\n      console.log(event.detail.checked);\n      console.log('Notify Changed by');\n      console.log('this.notify after:', this.notifyStatus);\n      console.log('this.uNotify after:', this.uNotifyStatus);\n      this.wpApiService\n        .changeNotification(\n          this.authService.userToken,\n          event.detail.checked ? 1 : 0\n        )\n        .subscribe(\n          (response: any) => {\n            console.log(response.data);\n            this.uNotifyStatus = event.detail.checked;\n            console.log('this.notify after api:', this.notifyStatus);\n            console.log('this.uNotify after api:', this.uNotifyStatus);\n          },\n          error => {\n            console.log(error);\n          }\n        );\n    }\n  }\n}\n"],"sourceRoot":""}